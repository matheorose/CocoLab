<section id="services" class="py-16 px-4 text-center md:min-h-screen h-fit relative overflow-hidden services-section flex flex-col">
  <div class="flex-grow pb-32">
    <h2 class="text-5xl mt-[10vh] mb-[15vh] font-bold mb-4 text-white">Nos services</h2>

    <div class="grid gap-12 mt-8 grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 max-w-6xl mx-auto">

      <div *ngFor="let service of servicesData"
           class="bg-white rounded-xl p-6 shadow-md hover:-translate-y-1 transition max-w-sm mx-auto flex flex-col justify-between items-center border border-gray-100">
        <div>
          <h3 class="text-[#7F00FF] font-semibold text-xl mb-2">{{ service.name }}</h3>
          <p>{{ service.description }}</p>
        </div>
        <button (click)="openModal(service.name)"
                class="mt-4 px-6 py-2 bg-[#7F00FF] text-white rounded-full border border-[#7F00FF] transition hover:bg-transparent hover:text-[#7F00FF] font-medium text-sm">
          Plus d'infos
        </button>
      </div>

    </div>

  </div>
</section>

<div *ngIf="isModalOpen" (click)="closeModal()"
     class="fixed inset-0 z-50 flex items-center justify-center p-4 bg-black bg-opacity-50 transition-opacity duration-300">

  <div (click)="$event.stopPropagation()"
       class="bg-white rounded-xl shadow-2xl w-full max-w-lg mx-auto p-8 transform transition-transform duration-300 scale-100 relative">

    <button (click)="closeModal()"
            class="absolute top-4 right-4 text-gray-500 hover:text-gray-700 transition">
      <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path></svg>
    </button>

    <div *ngIf="selectedService">
      <h3 class="text-3xl font-bold text-[#7F00FF] mb-4 border-b pb-2">{{ selectedService.name }}</h3>
      <p class="text-gray-700 mb-6">{{ selectedService.description }}</p>

      <h4 class="text-xl font-semibold mb-3">Ce que nous faisons :</h4>
      <ul class="list-disc list-inside space-y-2 text-left text-gray-600">
        <li *ngFor="let detail of selectedService.details">{{ detail }}</li>
      </ul>

      <button (click)="closeModal()"
              class="mt-8 w-full px-6 py-3 bg-[#7F00FF] text-white rounded-full border border-[#7F00FF] transition hover:bg-transparent hover:text-[#7F00FF] font-medium">
        Fermer
      </button>
    </div>

  </div>
</div>
